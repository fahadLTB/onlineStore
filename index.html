<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Online Store</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #222; color: #fff; padding: 20px; text-align: center; }
    .container { width: 90%; margin: auto; padding: 20px; }
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .card { background: #fff; border-radius: 10px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
    .card img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; }
    .card h3 { margin: 10px 0; }
    .card p { color: #444; }
    .btn { display: block; width: 100%; padding: 10px; margin-top: 10px; background: #007bff; color: #fff; text-align: center; border-radius: 5px; text-decoration: none; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    footer { margin-top: 40px; text-align: center; padding: 20px; background: #222; color:#fff; }
    #cart { background: #fff; padding: 20px; border-radius: 10px; margin-top: 40px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    table, th, td { border: 1px solid #ccc; }
    th, td { padding: 10px; text-align: center; }
    button.remove { background: #dc3545; }
    button.remove:hover { background: #c82333; }
</style>
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID"></script>
</head>
<body>
<header>
    <h1>My Online Store</h1>
</header>

<div class="container">
    <h2>Our Products</h2>
    <div class="products">
        <div class="card">
            <img src="https://via.placeholder.com/300x200" alt="Product 1">
            <h3>Product 1</h3>
            <p>$20</p>
            <button class="btn" onclick="addToCart('Product 1', 20)">Add to Cart</button>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/300x200" alt="Product 2">
            <h3>Product 2</h3>
            <p>$35</p>
            <button class="btn" onclick="addToCart('Product 2', 35)">Add to Cart</button>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/300x200" alt="Product 3">
            <h3>Product 3</h3>
            <p>$50</p>
            <button class="btn" onclick="addToCart('Product 3', 50)">Add to Cart</button>
        </div>
    </div>

    <div id="cart">
        <h2>Your Cart</h2>
        <table id="cart-table">
            <thead>
                <tr><th>Product</th><th>Price</th><th>Quantity</th><th>Total</th><th>Remove</th></tr>
            </thead>
            <tbody></tbody>
        </table>
        <h3 id="cart-total">Total: $0</h3>
        <div id="paypal-button-container"></div>
    </div>

    <h2>Cash on Delivery</h2>
    <form id="cod-form" action="mailto:test@gmail.com" method="POST" enctype="text/plain">
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required>
        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" required>
        <label for="address">Delivery Address:</label>
        <textarea id="address" name="address" rows="3" required></textarea>
        <input type="hidden" id="cod-products" name="order" value="">
        <button type="submit">Place Order (COD)</button>
    </form>
</div>

<footer>
    <p>Â© 2025 My Online Store. All rights reserved.</p>
</footer>

<script>
let cart = [];

function addToCart(name, price) {
    const existing = cart.find(item => item.name === name);
    if (existing) existing.quantity++;
    else cart.push({name, price, quantity: 1});
    updateCart();
}

function removeFromCart(name) {
    cart = cart.filter(item => item.name !== name);
    updateCart();
}

function updateCart() {
    const tbody = document.querySelector('#cart-table tbody');
    tbody.innerHTML = '';
    let total = 0;
    cart.forEach(item => {
        const tr = document.createElement('tr');
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        tr.innerHTML = `<td>${item.name}</td><td>$${item.price}</td><td>${item.quantity}</td><td>$${itemTotal}</td><td><button class='remove btn' onclick="removeFromCart('${item.name}')">X</button></td>`;
        tbody.appendChild(tr);
    });
    document.getElementById('cart-total').innerText = 'Total: $' + total;

    // Update COD hidden field
    document.getElementById('cod-products').value = cart.map(i => `${i.name} x${i.quantity}`).join(', ');

    // Render PayPal Button
    paypal.Buttons({
        createOrder: function(data, actions) {
            return actions.order.create({ purchase_units: [{ amount: { value: total.toFixed(2) } }] });
        },
        onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
                alert('Payment completed by ' + details.payer.name.given_name);
                cart = [];
                updateCart();
            });
        }
    }).render('#paypal-button-container');
}
</script>
</body>
</html>
